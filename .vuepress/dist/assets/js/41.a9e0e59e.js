(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{208:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("BSON is short for Bin­ary JSON and is the bin­ary-en­coded seri­al­iz­a­tion of JSON-like doc­u­ments. You can learn more about it in "),s("a",{attrs:{href:"http://bsonspec.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("the specification"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("This browser version of the BSON parser is compiled using "),s("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack"),s("OutboundLink")],1),t._v(" and the current version is pre-compiled in the "),s("code",[t._v("browser_build")]),t._v(" directory.")]),t._v(" "),s("p",[t._v("This is the default BSON parser, however, there is a C++ Node.js addon version as well that does not support the browser. It can be found at "),s("a",{attrs:{href:"https://github.com/mongodb-js/bson-ext",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongod-js/bson-ext"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("To build a new version perform the following operations:")]),t._v(" "),t._m(2),s("p",[t._v("A simple example of how to use BSON in the browser:")]),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("For all BSON types documentation, please refer to the following sources:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/bson-types/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB BSON Type Reference"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://bsonspec.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("BSON Spec"),s("OutboundLink")],1)])]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),s("p",[t._v("The "),s("code",[t._v("undefined")]),t._v(" BSON type has been "),s("a",{attrs:{href:"http://bsonspec.org/spec.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("deprecated for many years"),s("OutboundLink")],1),t._v(", so this library has dropped support for it. Use the "),s("code",[t._v("ignoreUndefined")]),t._v(" option (for example, from the "),s("a",{attrs:{href:"http://mongodb.github.io/node-mongodb-native/2.2/api/MongoClient.html#connect",target:"_blank",rel:"noopener noreferrer"}},[t._v("driver"),s("OutboundLink")],1),t._v(" ) to instead remove "),s("code",[t._v("undefined")]),t._v(" keys.")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"bson-parser"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-parser","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON parser")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("npm install\nnpm run build\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./browser_build/bson.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get the Long type")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Long "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Create a bson parser instance")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bson "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Serialize document")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromNumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Serialize a document")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("doc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// De serialize it again")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doc_2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deserialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A simple example of how to use BSON in "),e("code",[this._v("Node.js")]),this._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get BSON parser class")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BSON")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bson'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get the Long type")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Long "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Create a bson parser instance")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bson "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Serialize document")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Long"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromNumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Serialize a document")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("doc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Deserialize the resulting Buffer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doc_2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deserialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'doc_2:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doc_2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("npm install bson")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[this._v("#")]),this._v(" API")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bson-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-types","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bson-serialization-and-deserialiation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-serialization-and-deserialiation","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON serialization and deserialiation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("code",[this._v("new BSON()")])]),this._v(" - Creates a new BSON serializer/deserializer you can use to serialize and deserialize BSON.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"bson-serialize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-serialize","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON.serialize")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The BSON "),e("code",[this._v("serialize")]),this._v(" method takes a JavaScript object and an optional options object and returns a Node.js Buffer.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("BSON.serialize(object, options)")]),t._v(" "),s("ul",[s("li",[t._v("@param {Object} object the JavaScript object to serialize.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.checkKeys=false] the serializer will check if keys are valid.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.serializeFunctions=false] serialize the JavaScript functions.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.ignoreUndefined=true]")]),t._v(" "),s("li",[t._v("@return {Buffer} returns a Buffer instance.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"bson-serializewithbufferandindex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-serializewithbufferandindex","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON.serializeWithBufferAndIndex")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The BSON "),e("code",[this._v("serializeWithBufferAndIndex")]),this._v(" method takes an object, a target buffer instance and an optional options object and returns the end serialization index in the final buffer.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("BSON.serializeWithBufferAndIndex(object, buffer, options)")]),t._v(" "),s("ul",[s("li",[t._v("@param {Object} object the JavaScript object to serialize.")]),t._v(" "),s("li",[t._v("@param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.checkKeys=false] the serializer will check if keys are valid.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.serializeFunctions=false] serialize the JavaScript functions.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.ignoreUndefined=true] ignore undefined fields.")]),t._v(" "),s("li",[t._v("@param {Number} [options.index=0] the index in the buffer where we wish to start serializing into.")]),t._v(" "),s("li",[t._v("@return {Number} returns the index pointing to the last written byte in the buffer.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"bson-calculateobjectsize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-calculateobjectsize","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON.calculateObjectSize")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The BSON "),e("code",[this._v("calculateObjectSize")]),this._v(" method takes a JavaScript object and an optional options object and returns the size of the BSON object.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("BSON.calculateObjectSize(object, options)")]),t._v(" "),s("ul",[s("li",[t._v("@param {Object} object the JavaScript object to serialize.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.serializeFunctions=false] serialize the JavaScript functions.")]),t._v(" "),s("li",[t._v("@param {Boolean} [options.ignoreUndefined=true]")]),t._v(" "),s("li",[t._v("@return {Buffer} returns a Buffer instance.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"bson-deserialize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-deserialize","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON.deserialize")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The BSON "),e("code",[this._v("deserialize")]),this._v(" method takes a Node.js Buffer and an optional options object and returns a deserialized JavaScript object.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("BSON.deserialize(buffer, options)")]),t._v(" "),s("ul",[s("li",[t._v("@param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.")]),t._v(" "),s("li",[t._v("@param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.")]),t._v(" "),s("li",[t._v("@param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a Node.js Buffer instance.")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.")]),t._v(" "),s("li",[t._v("@param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.")]),t._v(" "),s("li",[t._v("@param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.")]),t._v(" "),s("li",[t._v("@return {Object} returns the deserialized Javascript Object.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"bson-deserializestream"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bson-deserializestream","aria-hidden":"true"}},[this._v("#")]),this._v(" BSON.deserializeStream")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The BSON "),e("code",[this._v("deserializeStream")]),this._v(" method takes a Node.js Buffer, "),e("code",[this._v("startIndex")]),this._v(" and allow more control over deserialization of a Buffer containing concatenated BSON documents.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("BSON.deserializeStream(buffer, startIndex, numberOfDocuments, documents, docStartIndex, options)")]),t._v(" "),s("ul",[s("li",[t._v("@param {Buffer} buffer the buffer containing the serialized set of BSON documents.")]),t._v(" "),s("li",[t._v("@param {Number} startIndex the start index in the data Buffer where the deserialization is to start.")]),t._v(" "),s("li",[t._v("@param {Number} numberOfDocuments number of documents to deserialize.")]),t._v(" "),s("li",[t._v("@param {Array} documents an array where to store the deserialized documents.")]),t._v(" "),s("li",[t._v("@param {Number} docStartIndex the index in the documents array from where to start inserting documents.")]),t._v(" "),s("li",[t._v("@param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.")]),t._v(" "),s("li",[t._v("@param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.")]),t._v(" "),s("li",[t._v("@param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a Node.js Buffer instance.")]),t._v(" "),s("li",[t._v("@param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.")]),t._v(" "),s("li",[t._v("@param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.")]),t._v(" "),s("li",[t._v("@param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.")]),t._v(" "),s("li",[t._v("@return {Number} returns the next index in the buffer after deserialization "),s("strong",[t._v("x")]),t._v(" numbers of documents.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"faq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#faq","aria-hidden":"true"}},[this._v("#")]),this._v(" FAQ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"why-does-undefined-get-converted-to-null"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#why-does-undefined-get-converted-to-null","aria-hidden":"true"}},[this._v("#")]),this._v(" Why does "),e("code",[this._v("undefined")]),this._v(" get converted to "),e("code",[this._v("null")]),this._v("?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-do-i-add-custom-serialization-logic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-do-i-add-custom-serialization-logic","aria-hidden":"true"}},[this._v("#")]),this._v(" How do I add custom serialization logic?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This library looks for "),e("code",[this._v("toBSON()")]),this._v(" functions on every path, and calls the "),e("code",[this._v("toBSON()")]),this._v(" function to get the value to serialize.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bson "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomSerialize")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" answer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomSerialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "{ answer: 42 }"')]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deserialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bson"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);e.default=n.exports}}]);